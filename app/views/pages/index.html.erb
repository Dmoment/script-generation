<%# Server-rendered HTML for SEO - marketing page loads instantly %>
<%# React only loads for /dashboard and other interactive routes %>

<% current_path = request.path %>
<%# Check if this is an Auth0 callback (has code and state params) %>
<% is_auth0_callback = params[:code].present? && params[:state].present? %>

<%# Render marketing page only if it's root path AND not an Auth0 callback %>
<% if (current_path == '/' || current_path == '/index') && !is_auth0_callback %>
  <%# Full HTML marketing/landing page - server-rendered for SEO %>
  <div id="landing-page" class="bg-[#f5f1e8] min-h-screen">
    <%# Header - Minimalist design like the reference %>
    <header class="sticky top-0 z-40 bg-[#f5f1e8] border-b border-gray-300">
      <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <%# Title Section %>
        <div class="py-6">
          <h1 class="text-2xl lg:text-3xl font-bold text-[#333333] leading-tight">
            <%= app_name.upcase %>
          </h1>
        </div>
        
        <%# Navigation Bar with separator line %>
        <div class="flex items-center justify-between pb-4 border-b border-[#333333]">
          <nav class="flex items-center gap-6 text-sm font-medium">
            <a href="#features" class="text-[#333333] hover:text-gray-600 transition-colors no-underline">Features</a>
            <a href="#industries" class="text-[#333333] hover:text-gray-600 transition-colors no-underline">Industries</a>
            <a href="#company" class="text-[#333333] hover:text-gray-600 transition-colors no-underline">Company</a>
              <a href="#contact" class="text-[#333333] hover:text-gray-600 transition-colors no-underline">Contact</a>
            <div class="flex flex-col">
              
            </div>
          </nav>
          
          <div class="flex items-center gap-8">
            <span class="text-4xl font-bold text-[#333333]">'24</span>
            <div class="flex items-center gap-3">
              <a href="/dashboard" data-turbo="false" class="text-sm font-medium text-[#333333] hover:text-gray-600 transition-colors no-underline">Sign in</a>
              <a href="/dashboard" data-turbo="false" class="text-sm font-medium text-[#333333] hover:text-gray-600 transition-colors no-underline">Get started</a>
            </div>
          </div>
        </div>
      </div>
    </header>

    <%# Hero Section with Video %>
    <section class="relative bg-[#f5f1e8] pt-12 lg:pt-16 pb-12 lg:pb-20 hero-section-bg">
      <%# Background Video %>
      <video class="hero-background-video" autoplay muted loop playsinline>
        <source src="/videos/hero-bg-6.mp4" type="video/mp4">
      </video>
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          const video = document.querySelector('.hero-background-video');
          if (video) {
            video.playbackRate = 0.5; // Slow down to 50% speed
          }
        });
      </script>
      <div class="relative z-10">
        <div class="mx-auto max-w-7xl px-6 lg:px-8">
          <div class="flex flex-col lg:flex-row items-center gap-8 lg:gap-12">
            <%# Left Section - Text %>
            <div class="flex-1 lg:w-1/2">
              <h1 class="video-overlay-title text-[#333333] text-left mb-6">
                WRITE, MANAGE, AND PRODUCE SCRIPTS.
              </h1>
              <p class="diagonal-hero-subtitle text-[#333333] text-left leading-relaxed py-10">
                <%= app_name.upcase %> BRINGS AI-ASSISTED WRITING, PRODUCTION-GRADE BREAKDOWNS AND COLLABORATION INTO ONE STREAMLINED WORKSPACE.
              </p>
            </div>
            
            <%# Right Section - Two Stacked Video Windows with Overlap %>
            <div class="flex-1 lg:w-1/2 relative">
              <%# Top Video Window %>
              <div class="retro-video-frame-small retro-video-top">
                <div class="retro-window-bar-small">
                  <div class="retro-window-bar-content">
                    <div class="retro-window-icon-small bg-[#ff69b4]"></div>
                    <div class="retro-window-title-small">■ SCRIPT CREATION</div>
                    <div class="retro-window-control-small"></div>
                  </div>
                </div>
                <div class="retro-video-container-small">
                  <video 
                    class="retro-video-content-small" 
                    autoplay 
                    muted 
                    loop 
                    playsinline
                  >
                    <source src="/videos/hero-vid-3.mp4" type="video/mp4">
                    <source src="/videos/hero-video.webm" type="video/webm">
                  </video>
                </div>
              </div>
              
              <%# Bottom Video Window - Overlapping %>
              <div class="retro-video-frame-small retro-video-bottom">
                <div class="retro-window-bar-small">
                  <div class="retro-window-bar-content">
                    <div class="retro-window-icon-small bg-[#00ff00]"></div>
                    <div class="retro-window-title-small">■ SCRIPT MANAGEMENT</div>
                    <div class="retro-window-control-small"></div>
                  </div>
                </div>
                <div class="retro-video-container-small retro-video-container-bottom">
                  <video 
                    class="retro-video-content-small" 
                    autoplay 
                    muted 
                    loop 
                    playsinline
                  >
                    <source src="/videos/hero-vid-3.mp4" type="video/mp4">
                    <source src="/videos/hero-video.webm" type="video/webm">
                  </video>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <%# Features Section - Reference Style %>
    <section id="features" class="relative py-24 overflow-hidden bg-[#FDFbf6]">
      <%# Custom Styles for Glow Animation %>
      <style>
        @keyframes intense-glow {
          0%, 100% { opacity: 0.8; transform: scale(1); filter: blur(40px); }
          50% { opacity: 1; transform: scale(1.15); filter: blur(60px); }
        }
        .animate-intense-glow {
          animation: intense-glow 2s ease-in-out infinite;
        }
      </style>

      <div class="mx-auto max-w-7xl px-4 relative z-10">
        <%# Title Section %>
        <div class="text-center mb-16">
          <h2 class="features-section-title text-[#333333] mb-6"><%= app_name %></h2>
          <p class="text-gray-600 max-w-2xl mx-auto text-lg md:text-xl font-light font-serif">
            From script to screen, we add intelligence and structure to your production workflow.
          </p>
        </div>

        <%# Main Composition %>
        <div class="relative w-full max-w-6xl mx-auto min-h-[1000px] hidden md:block">
          
          <%# Glowing Gradient Background - Wrapper for positioning, inner for animation %>
          <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[700px] h-[700px] pointer-events-none z-0">
            <div 
              class="w-full h-full rounded-full animate-intense-glow"
              style="background: radial-gradient(ellipse farthest-side at center, rgba(255, 190, 60, 0.8) 0%, rgba(255, 160, 50, 0.6) 30%, rgba(255, 210, 140, 0.4) 50%, rgba(255, 230, 200, 0.2) 70%, transparent 100%);"
            ></div>
          </div>

          <%# Central Image (Typewriter) with 3D Shadow %>
          <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10 w-[500px]">
            <div class="relative w-full">
              <%# 3D Bottom Shadow - Positioned closer to typewriter %>
              <div class="absolute -bottom-6 left-1/2 -translate-x-1/2 w-[300px] h-[60px] bg-black/30 blur-2xl rounded-[100%] pointer-events-none mix-blend-multiply"></div>
              
              <img 
                src="/videos/typewritter.png" 
                alt="Typewriter" 
                class="relative z-10 w-full h-full object-contain drop-shadow-2xl transform hover:scale-105 transition-transform duration-500"
              >
            </div>
          </div>

          <%# --- LEFT COLUMN --- %>

          <%# Card 0: Top Left %>
          <% f0 = marketing_features[0] %>
          <div class="absolute top-20 left-10 z-20 w-80 bg-white border-2 border-black p-6 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-transform duration-300">
            <div class="flex justify-between items-start mb-4">
              <div class="flex items-center gap-3">
                <div class="w-3 h-3 bg-red-400"></div>
                <h3 class="font-serif text-xl tracking-tight leading-none"><%= f0[:title] %></h3>
              </div>
              <div class="w-10 h-10 bg-gray-100 flex items-center justify-center border border-black">
                 <i class="bi <%= f0[:icon] %> text-xl"></i>
              </div>
            </div>
            <p class="text-sm text-gray-800 mb-6 font-mono leading-relaxed">
              <%= f0[:description] %>
            </p>
            <a href="#<%= f0[:id] %>" class="block text-center w-full border border-black px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-colors no-underline text-black">
              Learn more
            </a>
          </div>

          <%# Card 1: Middle Left %>
          <% f1 = marketing_features[1] %>
          <div class="absolute top-1/2 -translate-y-1/2 left-0 z-20 w-80 bg-white border-2 border-black p-6 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-transform duration-300">
            <div class="flex justify-between items-start mb-4">
              <div class="flex items-center gap-3">
                <div class="w-3 h-3 bg-green-400"></div>
                <h3 class="font-serif text-xl tracking-tight leading-none"><%= f1[:title] %></h3>
              </div>
              <div class="w-10 h-10 bg-gray-100 flex items-center justify-center border border-black">
                 <i class="bi <%= f1[:icon] %> text-xl"></i>
              </div>
            </div>
            <p class="text-sm text-gray-800 mb-6 font-mono leading-relaxed">
              <%= f1[:description] %>
            </p>
            <a href="#<%= f1[:id] %>" class="block text-center w-full border border-black px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-colors no-underline text-black">
              Learn more
            </a>
          </div>

          <%# Card 2: Bottom Left %>
          <% f2 = marketing_features[2] %>
          <div class="absolute bottom-20 left-10 z-20 w-80 bg-white border-2 border-black p-6 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-transform duration-300">
            <div class="flex justify-between items-start mb-4">
              <div class="flex items-center gap-3">
                <div class="w-3 h-3 bg-orange-400"></div>
                <h3 class="font-serif text-xl tracking-tight leading-none"><%= f2[:title] %></h3>
              </div>
              <div class="w-10 h-10 bg-gray-100 flex items-center justify-center border border-black">
                 <i class="bi <%= f2[:icon] %> text-xl"></i>
              </div>
            </div>
            <p class="text-sm text-gray-800 mb-6 font-mono leading-relaxed">
              <%= f2[:description] %>
            </p>
            <a href="#<%= f2[:id] %>" class="block text-center w-full border border-black px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-colors no-underline text-black">
              Learn more
            </a>
          </div>

          <%# --- RIGHT COLUMN --- %>

          <%# Card 3: Top Right %>
          <% f3 = marketing_features[3] %>
          <div class="absolute top-20 right-10 z-20 w-80 bg-white border-2 border-black p-6 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-transform duration-300">
            <div class="flex justify-between items-start mb-4">
              <div class="flex items-center gap-3">
                <div class="w-3 h-3 bg-blue-400"></div>
                <h3 class="font-serif text-xl tracking-tight leading-none"><%= f3[:title] %></h3>
              </div>
              <div class="w-10 h-10 bg-gray-100 flex items-center justify-center border border-black">
                 <i class="bi <%= f3[:icon] %> text-xl"></i>
              </div>
            </div>
            <p class="text-sm text-gray-800 mb-6 font-mono leading-relaxed">
              <%= f3[:description] %>
            </p>
            <a href="#<%= f3[:id] %>" class="block text-center w-full border border-black px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-colors no-underline text-black">
              Learn more
            </a>
          </div>

          <%# Card 4: Middle Right %>
          <% f4 = marketing_features[4] %>
          <div class="absolute top-1/2 -translate-y-1/2 right-0 z-20 w-80 bg-white border-2 border-black p-6 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-transform duration-300">
            <div class="flex justify-between items-start mb-4">
              <div class="flex items-center gap-3">
                <div class="w-3 h-3 bg-purple-400"></div>
                <h3 class="font-serif text-xl tracking-tight leading-none"><%= f4[:title] %></h3>
              </div>
              <div class="w-10 h-10 bg-gray-100 flex items-center justify-center border border-black">
                 <i class="bi <%= f4[:icon] %> text-xl"></i>
              </div>
            </div>
            <p class="text-sm text-gray-800 mb-6 font-mono leading-relaxed">
              <%= f4[:description] %>
            </p>
            <a href="#<%= f4[:id] %>" class="block text-center w-full border border-black px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-colors no-underline text-black">
              Learn more
            </a>
          </div>

          <%# Card 5: Bottom Right %>
          <% f5 = marketing_features[5] %>
          <div class="absolute bottom-20 right-10 z-20 w-80 bg-white border-2 border-black p-6 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-transform duration-300">
            <div class="flex justify-between items-start mb-4">
              <div class="flex items-center gap-3">
                <div class="w-3 h-3 bg-pink-400"></div>
                <h3 class="font-serif text-xl tracking-tight leading-none"><%= f5[:title] %></h3>
              </div>
              <div class="w-10 h-10 bg-gray-100 flex items-center justify-center border border-black">
                 <i class="bi <%= f5[:icon] %> text-xl"></i>
              </div>
            </div>
            <p class="text-sm text-gray-800 mb-6 font-mono leading-relaxed">
              <%= f5[:description] %>
            </p>
            <a href="#<%= f5[:id] %>" class="block text-center w-full border border-black px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-colors no-underline text-black">
              Learn more
            </a>
          </div>

          <%# --- CENTER BOTTOM --- %>
          
          <%# Card 6: Bottom Center %>
          <% f6 = marketing_features[6] %>
          <div class="absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 z-30 w-80 bg-white border-2 border-black p-6 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-transform duration-300">
            <div class="flex justify-between items-start mb-4">
              <div class="flex items-center gap-3">
                <div class="w-3 h-3 bg-yellow-400"></div>
                <h3 class="font-serif text-xl tracking-tight leading-none"><%= f6[:title] %></h3>
              </div>
              <div class="w-10 h-10 bg-gray-100 flex items-center justify-center border border-black">
                 <i class="bi <%= f6[:icon] %> text-xl"></i>
              </div>
            </div>
            <p class="text-sm text-gray-800 mb-6 font-mono leading-relaxed">
              <%= f6[:description] %>
            </p>
            <a href="#<%= f6[:id] %>" class="block text-center w-full border border-black px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-colors no-underline text-black">
              Learn more
            </a>
          </div>

        </div>

        <%# Mobile View (Stacked) %>
        <div class="md:hidden flex flex-col gap-8 items-center">
           <div class="relative w-full max-w-sm mx-auto mb-8">
              <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] rounded-full pointer-events-none" style="background: radial-gradient(ellipse farthest-side at center, rgba(200, 170, 40, 0.5) 10%, rgba(215, 185, 70, 0.4) 10%, rgba(235, 210, 150, 0.3) 30%, rgba(240, 210, 145, 0.2) 45%, rgba(245, 200, 130, 0.1) 60%, rgba(240, 190, 120, 0.05) 70%, rgba(245, 241, 232, 0.02) 85%, rgba(248, 209, 117, 0.01) 92%, transparent 100%);"></div>
              <img src="/videos/typewritter.png" alt="Typewriter" class="relative z-10 w-full h-auto drop-shadow-xl" />
           </div>
           
           <% marketing_features.each_with_index do |feature, idx| %>
             <% colors = ['bg-red-400', 'bg-green-400', 'bg-orange-400', 'bg-blue-400', 'bg-purple-400', 'bg-pink-400', 'bg-yellow-400'] %>
             <div class="w-full max-w-sm bg-white border-2 border-black p-6 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)]">
                <div class="flex justify-between items-start mb-4">
                  <div class="flex items-center gap-3">
                    <div class="w-3 h-3 <%= colors[idx % colors.length] %>"></div>
                    <h3 class="font-serif text-xl tracking-tight leading-none"><%= feature[:title] %></h3>
                  </div>
                  <div class="w-10 h-10 bg-gray-100 flex items-center justify-center border border-black">
                    <i class="bi <%= feature[:icon] %> text-xl"></i>
                  </div>
                </div>
                <p class="text-sm text-gray-800 mb-6 font-mono leading-relaxed">
                  <%= feature[:description] %>
                </p>
                <a href="#<%= feature[:id] %>" class="block text-center w-full border border-black px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-colors no-underline text-black">
                  Learn more
                </a>
             </div>
           <% end %>
        </div>
      </div>
    </section>

    <%# Meet Your Crew Section (Tavus-inspired) %>
    <section class="py-24 bg-[#f5f1e8] border-t-2 border-black overflow-hidden">
      <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="mb-16">
          <h2 class="text-5xl md:text-7xl font-bold text-[#333333] mb-6 tracking-tight">Meet your new AI Crew.</h2>
          <p class="text-xl text-gray-600 max-w-3xl font-serif">
            Pick one. Assign a task. They never sleep, never complain, and always stay under budget.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <%# Crew Member 1: The Architect %>
          <div class="group relative bg-white border-2 border-black p-6 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-all duration-300">
            <div class="aspect-square bg-brand-100 mb-6 border border-black overflow-hidden relative">
              <img src="/videos/man-thoughts.png" class="w-full h-full object-cover grayscale contrast-125" alt="The Architect">
              <div class="absolute inset-0 bg-blue-500/10 group-hover:bg-transparent transition-colors"></div>
            </div>
            <h3 class="text-2xl font-bold mb-2">The Architect</h3>
            <p class="text-xs font-bold uppercase tracking-wider text-blue-600 mb-4">Story & Script</p>
            <p class="text-sm text-gray-700 font-mono mb-6 leading-relaxed">
              "I spot plot holes before you write them. I track character arcs across seasons and ensure every line of dialogue earns its place."
            </p>
            <button class="w-full border border-black px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-colors">
              Open Writer's Room
            </button>
          </div>

          <%# Crew Member 2: The 1st AD %>
          <div class="group relative bg-white border-2 border-black p-6 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-all duration-300">
            <div class="aspect-square bg-brand-100 mb-6 border border-black overflow-hidden relative">
              <img src="/videos/hands-touch.png" class="w-full h-full object-cover grayscale contrast-125" alt="The 1st AD">
              <div class="absolute inset-0 bg-green-500/10 group-hover:bg-transparent transition-colors"></div>
            </div>
            <h3 class="text-2xl font-bold mb-2">The 1st AD</h3>
            <p class="text-xs font-bold uppercase tracking-wider text-green-600 mb-4">Logistics & Schedule</p>
            <p class="text-sm text-gray-700 font-mono mb-6 leading-relaxed">
              "I turn pages into days. I optimize for location moves, cast availability, and daylight. We'll make your day, every day."
            </p>
            <button class="w-full border border-black px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-colors">
              Generate Stripboard
            </button>
          </div>

          <%# Crew Member 3: The Line Producer %>
          <div class="group relative bg-white border-2 border-black p-6 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-all duration-300">
             <div class="aspect-square bg-brand-100 mb-6 border border-black overflow-hidden relative">
              <img src="/videos/typewriter-1.png" class="w-full h-full object-cover grayscale contrast-125" alt="The Line Producer">
              <div class="absolute inset-0 bg-orange-500/10 group-hover:bg-transparent transition-colors"></div>
            </div>
            <h3 class="text-2xl font-bold mb-2">The Producer</h3>
            <p class="text-xs font-bold uppercase tracking-wider text-orange-600 mb-4">Budget & Resources</p>
            <p class="text-sm text-gray-700 font-mono mb-6 leading-relaxed">
              "I see the cost of every scene. I'll tell you exactly how much that explosion costs and suggest a cheaper way to break hearts."
            </p>
            <button class="w-full border border-black px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-colors">
              View Breakdown
            </button>
          </div>

          <%# Crew Member 4: Continuity %>
          <div class="group relative bg-white border-2 border-black p-6 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-all duration-300">
             <div class="aspect-square bg-brand-100 mb-6 border border-black overflow-hidden relative">
              <img src="/videos/center.png" class="w-full h-full object-cover grayscale contrast-125" alt="Continuity">
              <div class="absolute inset-0 bg-purple-500/10 group-hover:bg-transparent transition-colors"></div>
            </div>
            <h3 class="text-2xl font-bold mb-2">The Eye</h3>
            <p class="text-xs font-bold uppercase tracking-wider text-purple-600 mb-4">Continuity & VFX</p>
            <p class="text-sm text-gray-700 font-mono mb-6 leading-relaxed">
              "I never blink. I track props, costumes, and wounds across non-linear shoots. Post-production will thank you."
            </p>
            <button class="w-full border border-black px-4 py-2 text-xs font-bold uppercase tracking-wider hover:bg-black hover:text-white transition-colors">
              Check Continuity
            </button>
          </div>
        </div>
      </div>
    </section>

    <%# Technology/Models Section (Tavus-inspired) %>
    <section class="py-24 bg-[#f5f1e8] border-t-2 border-black">
      <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-16">
          <div class="lg:col-span-1">
            <h2 class="text-4xl font-bold text-[#333333] mb-6">Our Engines</h2>
            <p class="text-lg text-gray-600 font-serif leading-relaxed">
              We build models that teach machines the language of cinema. From narrative structure to physical logistics, our engines understand the world of production.
            </p>
            <a href="#" class="inline-block mt-8 text-sm font-bold uppercase tracking-wider border-b-2 border-black pb-1 hover:text-gray-600 transition-colors">
              Read our Research
            </a>
          </div>
          
          <div class="lg:col-span-2 space-y-12">
            <%# Engine 1 %>
            <div class="border-l-4 border-black pl-8 relative">
              <span class="absolute -left-[11px] -top-1 w-5 h-5 bg-black rounded-full"></span>
              <h3 class="text-2xl font-bold mb-2">Narrative Context Engine [v4]</h3>
              <p class="text-gray-600 mb-4 font-mono text-sm">Contextual Understanding • Character Voice • Plot Consistency</p>
              <p class="text-gray-800 leading-relaxed">
                A transformer-based model trained on 50,000+ screenplays. It understands subtext, genre tropes, and character motivations, allowing it to suggest dialogue that fits the specific voice of your character, not just generic speech.
              </p>
            </div>

            <%# Engine 2 %>
            <div class="border-l-4 border-black pl-8 relative">
              <span class="absolute -left-[11px] -top-1 w-5 h-5 bg-black rounded-full"></span>
              <h3 class="text-2xl font-bold mb-2">Logistic Inference Model [LIM-1]</h3>
              <p class="text-gray-600 mb-4 font-mono text-sm">Resource Extraction • Scheduling Logic • Cost Estimation</p>
              <p class="text-gray-800 leading-relaxed">
                LIM-1 parses scene headings and action lines to extract physical requirements. It knows that "EXT. PARK - NIGHT" requires silence, permits, and lighting packages, instantly flagging potential budget overages.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <%# Why Scripts Stand Out Section - Split Layout %>
    <section id="why-scripts" class="pb-20 lg:pb-28 pt-0 bg-[#f5f1e8] border-t-2 border-black">
      <div class="flex flex-col lg:flex-row gap-8 lg:gap-8 items-stretch">
        <%# Left Side - Image (takes more space, starts from left edge) %>
        <div class="lg:w-[60%] lg:flex-shrink-0">
          <div class="relative w-full h-[500px] lg:h-[800px] lg:min-h-[800px] overflow-hidden">
            <img 
              src="/videos/man-thoughts.png" 
              alt="Creative thoughts and ideas" 
              class="w-full h-full object-cover"
            >
          </div>
        </div>
        
        <%# Right Side - Text Content (with gap) %>
        <div class="lg:w-[40%] lg:flex-shrink-0 space-y-6 flex flex-col justify-center px-6 lg:px-8 pr-6 lg:pr-12 min-w-0">
            <h2 class="features-section-title text-[#333333]" style="word-wrap: break-word; overflow-wrap: break-word;">
              Why Scripts Stand Out
            </h2>
            
            <div class="space-y-4 text-[#333333] min-w-0" style="font-family: Georgia, 'Times New Roman', serif;">
              <p class="text-sm lg:text-base leading-relaxed" style="word-wrap: break-word; overflow-wrap: break-word; hyphens: auto;">
                Script Generation is more than just another writing tool. We've built a platform that understands the unique demands of film and television production. Our AI doesn't just write—it thinks in scenes, breaks down scripts like a production manager, and generates call sheets like a seasoned AD.
              </p>
              
              <p class="text-sm lg:text-base leading-relaxed" style="word-wrap: break-word; overflow-wrap: break-word; hyphens: auto;">
                What sets us apart is our deep integration with production workflows. From initial concept to final shooting schedule, every feature is designed to save time, reduce errors, and help creative teams focus on what they do best: telling stories.
              </p>
              
              <p class="text-sm lg:text-base leading-relaxed" style="word-wrap: break-word; overflow-wrap: break-word; hyphens: auto;">
                We're always evolving. And if something sparks your imagination, we'd love to hear your thoughts.
              </p>
            </div>
            
            <div class="pt-4">
              <a href="#contact" class="inline-block px-6 py-3 border-2 border-[#333333] text-[#333333] text-sm lg:text-base font-semibold uppercase tracking-wide hover:bg-[#333333] hover:text-white transition-colors" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif; word-wrap: break-word; white-space: normal;">
                Share Your Thoughts
              </a>
            </div>
          </div>
    </section>

    <%# Footer - Retro/Industrial Style %>
    <footer class="relative bg-[#f5f1e8] pt-20 pb-8 overflow-hidden border-t-4 border-black">
      
      <%# Footer Content %>
      <div class="relative z-10 mx-auto max-w-7xl px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-12 gap-12 lg:gap-16 mb-16">
          
          <%# Brand Column (Left) %>
          <div class="md:col-span-4 lg:col-span-5">
            <h2 class="text-3xl font-black text-[#333333] mb-6 uppercase tracking-tight"><%= app_name.upcase %></h2>
            <p class="text-gray-600 font-mono text-sm leading-relaxed mb-8 max-w-sm">
              AI-assisted production infrastructure for the modern film industry.
              <br><br>
              Los Angeles • New York • London
            </p>
            <div class="flex items-center gap-4">
              <a href="#" class="w-10 h-10 border-2 border-black bg-white flex items-center justify-center hover:bg-black hover:text-white transition-all shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-1 hover:shadow-none">
                <i class="bi bi-twitter text-lg"></i>
              </a>
              <a href="#" class="w-10 h-10 border-2 border-black bg-white flex items-center justify-center hover:bg-black hover:text-white transition-all shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-1 hover:shadow-none">
                <i class="bi bi-instagram text-lg"></i>
              </a>
              <a href="#" class="w-10 h-10 border-2 border-black bg-white flex items-center justify-center hover:bg-black hover:text-white transition-all shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-y-1 hover:shadow-none">
                <i class="bi bi-linkedin text-lg"></i>
              </a>
            </div>
          </div>
          
          <%# Navigation Links (Middle) %>
          <div class="md:col-span-4 lg:col-span-3">
            <h3 class="text-sm font-bold uppercase tracking-widest mb-6 border-b-2 border-black pb-2 inline-block">System</h3>
            <ul class="space-y-3 font-medium">
              <li><a href="#features" class="hover:text-gray-600 hover:underline decoration-2 underline-offset-4 transition-all">Features</a></li>
              <li><a href="#manifesto" class="hover:text-gray-600 hover:underline decoration-2 underline-offset-4 transition-all">Manifesto</a></li>
              <li><a href="#pricing" class="hover:text-gray-600 hover:underline decoration-2 underline-offset-4 transition-all">Pricing</a></li>
              <li><a href="/dashboard" class="hover:text-gray-600 hover:underline decoration-2 underline-offset-4 transition-all">Login</a></li>
            </ul>
          </div>

          <%# Newsletter (Right) %>
          <div class="md:col-span-4 lg:col-span-4">
             <h3 class="text-sm font-bold uppercase tracking-widest mb-6 border-b-2 border-black pb-2 inline-block">Transmission</h3>
             <p class="text-sm font-mono text-gray-600 mb-4">Get product updates and production tips directly to your inbox.</p>
            <form class="flex flex-col gap-3" onsubmit="event.preventDefault(); return false;">
              <input 
                type="email" 
                placeholder="ENTER EMAIL ADDRESS" 
                class="w-full px-4 py-3 border-2 border-black bg-white text-[#333333] placeholder-gray-400 focus:outline-none focus:bg-gray-50 font-mono text-sm uppercase"
              >
              <button 
                type="submit" 
                class="w-full px-6 py-3 bg-black text-white font-bold border-2 border-black hover:bg-white hover:text-black transition-colors uppercase tracking-wider shadow-[4px_4px_0px_0px_rgba(100,100,100,1)] hover:shadow-none hover:translate-y-1"
              >
                Initialize
              </button>
            </form>
          </div>
        </div>
        
        <%# Copyright Bar %>
        <div class="pt-8 border-t-2 border-black flex flex-col md:flex-row justify-between items-center gap-4">
          <p class="text-xs font-mono text-gray-600 uppercase">
            © 2024 <%= app_name %>. All Systems Nominal.
          </p>
          <div class="flex gap-6 text-xs font-bold uppercase tracking-wider">
             <a href="#" class="hover:underline">Privacy Protocol</a>
             <a href="#" class="hover:underline">Terms of Service</a>
          </div>
        </div>
      </div>
    </footer
  </div>

  <%# Scroll Zoom In Animation Script %>
  <script>
    (function() {
      const observerOptions = {
        threshold: 0.2,
        rootMargin: '0px 0px -100px 0px'
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            // Stop observing after animation triggers once
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);

      // Observe all elements with scroll animation when DOM is ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => {
          document.querySelectorAll('[data-scroll-animation]').forEach(el => {
            observer.observe(el);
          });
        });
      } else {
        document.querySelectorAll('[data-scroll-animation]').forEach(el => {
          observer.observe(el);
        });
      }
    })();
  </script>

  <%# Enhanced testimonials rotation script %>
  <script>
    (function() {
      const testimonials = [
        { quote: "My production runs smoother and faster. The AI outline to call sheet flow is a game changer for my team.", author: "Jordan P.", title: "Producer" },
        { quote: "The version comparisons and secure sharing made approvals painless. We shipped on time.", author: "Avery L.", title: "Showrunner" },
        { quote: "Props identification and VFX suggestions saved us days of manual breakdowns.", author: "Sam K.", title: "Line Producer" }
      ];
      
      const content = document.getElementById('testimonial-content');
      const footer = document.getElementById('testimonial-footer');
      const indicators = document.querySelectorAll('[data-index]');
      
      if (!content || !footer || indicators.length === 0) return;
      
      let index = 0;
      
      function updateTestimonial(newIndex) {
        index = newIndex;
        const t = testimonials[index];
        const p = content.querySelector('p');
        if (p) p.textContent = `"${t.quote}"`;
        footer.textContent = `${t.author}, ${t.title}`;
        
        indicators.forEach((btn, i) => {
          if (i === index) {
            btn.classList.remove('bg-gray-300');
            btn.classList.add('bg-[#FF6B35]');
          } else {
            btn.classList.remove('bg-[#FF6B35]');
            btn.classList.add('bg-gray-300');
          }
        });
      }
      
      indicators.forEach((btn, i) => {
        btn.addEventListener('click', () => updateTestimonial(i));
      });
      
      setInterval(() => {
        updateTestimonial((index + 1) % testimonials.length);
      }, 5000);
    })();
  </script>

<% else %>
  <%# React app mount point for interactive routes like /dashboard %>
  <div id="root"
       data-features='<%= raw marketing_features.to_json %>'
       data-app-name="<%= app_name %>"></div>
  
  <%# Load React bundle only for non-marketing routes %>
  <script>
    // Trigger React hydration for dashboard/interactive pages
    if (window.location.pathname !== '/') {
      // React will mount when react_app.jsx loads
    }
  </script>
<% end %>



